<!--
  Generated template for the CalendarDoorsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{editor.calendars.companyName}}</ion-title>
  </ion-navbar>
  <ion-slides>
    <ion-slide *ngFor="let door of editor.calendars.doors; let i = index"
               [class.selected]="highlightStatus[i]" class="door-select"
               (click)="showDoorData(i)"
    >{{i+1}}</ion-slide>
  </ion-slides>
</ion-header>


<ion-content class="doors-page">
  <div  *ngIf="!editor.calendars.doors">Loading...</div>



  <div *ngIf="editor.calendars.doors">
    <ion-list>
      <ion-item>
        <ion-label floating>Sitat (valgfritt)</ion-label>
        <ion-textarea [(ngModel)]="editor.calendars.doors[currentDoor()].quote"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label floating>Premiebeskrivelse</ion-label>
        <ion-textarea [(ngModel)]="editor.calendars.doors[currentDoor()].prize"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label floating>Instruksjoner (valgfritt)</ion-label>
        <ion-textarea [(ngModel)]="editor.calendars.doors[currentDoor()].instructions"></ion-textarea>
      </ion-item>
      <ion-item *ngIf="urlInput">
        <ion-label floating>Bildelenke</ion-label>
        <ion-input [(ngModel)]="urlText" (blur)="blurFunction()"></ion-input>
      </ion-item>
    </ion-list>

    <div>
      <img [src]="editor.calendars.doors[currentDoor()].imageUrl" style="width: 60%;">
      <div style="float: right; display: flex; flex-direction: column; height: 100%;">
        <button style="background: blue; color: white; height: 40px; margin-bottom: 1%;" (click)="setImageUrl()">Url</button>
        <button style="background: blue; color: white; height: 40px; margin-bottom: 1%;" (click)="getCameraImage()">Camera</button>
        <button style="background: blue; color: white; height: 40px; margin-bottom: 1%;" (click)="getGalleryImage()">Gallery</button>
      </div>
    </div>
    <button class="snowbutton" (click)="updateDoor(currentDoor())">Oppdater</button>
    <div class="timer" [class.visible]="isUpdating"></div>



  </div>


</ion-content>
